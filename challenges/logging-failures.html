<div class="challenge-content">
    <h2>Logging and Alerting Failures Challenge</h2>
    <p>Sensitive information has been exposed through improper logging and error handling. Extract the flag from logs and error messages.</p>
    
    <div class="info-box">
        <strong>Challenge:</strong> Sensitive information has been logged through improper error handling and debug statements. However, the flag is NOT directly logged - it has been encoded and split across multiple log entries. You must analyze all logs, decode the encoded pieces, and reconstruct the complete flag.
    </div>
    
    <div class="warning-box">
        <strong>Note:</strong> This challenge requires advanced log analysis and data reconstruction skills. The flag is encoded and scattered across different log sources - you'll need to identify the encoding schemes and piece them together.
    </div>
    
    <h3>Application Interface</h3>
    <div class="info-box">
        <p>Interact with the application below and analyze ALL logged data. The flag is encoded in different ways across multiple log entries. Pay attention to headers, IDs, hashes, and other seemingly random values.</p>
        <button class="btn-submit" onclick="triggerError()">Trigger Error</button>
        <button class="btn-submit" onclick="makeRequest()" style="margin-left: 1rem;">Make Request</button>
        <button class="btn-submit" onclick="debugMode()" style="margin-left: 1rem;">Debug Mode</button>
        <div id="app-output" class="mt-2"></div>
    </div>
    
    <div class="warning-box mt-2">
        <strong>Important:</strong> Open your browser's Developer Tools (F12) and analyze:
        <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
            <li>All console messages (errors, logs, warnings)</li>
            <li>Request/response headers and data</li>
            <li>Error context and metadata</li>
            <li>Session IDs, correlation IDs, hashes, checksums</li>
            <li>Multiple encoding schemes are used (Base64, Hex, XOR, custom)</li>
        </ul>
    </div>
    
    <div class="flag-submission">
        <h3>Submit Flag</h3>
        <div class="flag-input-group">
            <input type="text" id="flag-input" placeholder="CTF{...}" />
            <button class="btn-submit" id="submit-flag-btn">Submit</button>
        </div>
        <div id="flag-result" class="hidden"></div>
    </div>
    
    <div class="hints-section">
        <h3>Hints</h3>
        <div class="hint-item">
            <button class="hint-toggle" onclick="toggleHint('hint-1')">
                Hint 1 <span id="hint-1-arrow">▼</span>
            </button>
            <div id="hint-1" class="hint-content hidden">
                The flag is split into 4 parts and encoded differently. Part 1 is Base64 (no padding), Part 2 is Hex, Part 3 is XOR (0x42) then Hex, Part 4 is custom encoding. Look for encoded strings in: request/response headers (X-Correlation-Id, X-Request-Id), session IDs, error context, metadata hashes, checksums. Each part appears in different log entries.
            </div>
        </div>
        <div class="hint-item">
            <button class="hint-toggle" onclick="toggleHint('hint-2')">
                Hint 2 <span id="hint-2-arrow">▼</span>
            </button>
            <div id="hint-2" class="hint-content hidden">
                Trigger all three actions (error, request, debug) and analyze ALL logged data. Part 1: Response X-Correlation-Id or sessionId (Base64). Part 2: Error stack analysis hash or userId (Hex). Part 3: Error metadata ref (XOR+Hex). Part 4: Request X-Correlation-Id header (custom encoding). Decode each part and combine: Part1 + Part2 + Part3 + Part4 = flag.
            </div>
        </div>
    </div>
</div>


